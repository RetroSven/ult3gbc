#include <gb.h>
#include "u3.h"

#define u3tiles ((unsigned char*)(0xB000))
#define tile_palettes ((unsigned char*)(0xB930))
#define tile_attribs  ((unsigned char*)(0xB990))
#define check_order ((unsigned char*)(0xB9F0))
#define bkg_p ((UWORD*)(0xBA40))
#define obj_p ((UWORD*)(0xBA80))
#define battlemaps ((UWORD*)(0xBAC0))

extern UBYTE blinkdelay ;
extern UBYTE tileon ;
extern UBYTE currplayer ;
extern UBYTE peermap ;
extern UBYTE changemusic ;
extern UBYTE extragame ;

extern UWORD party_specials ;

extern UBYTE peer_semaphore ;

extern PLAYER players[] ;
extern MONSTER monsters[] ;
extern UBYTE nummonsters ;
extern UBYTE numplayers; 
extern UBYTE monsterattrib ;
extern UBYTE monsterpower ;

extern UBYTE playerx ;
extern UBYTE playery ;
extern UBYTE screenx ;
extern UBYTE screeny ;
extern UBYTE need_refresh ;
extern UBYTE inside ;
extern UBYTE transport ;

extern UBYTE numgoodies; 
extern UBYTE numalive ;

extern UBYTE stoptimebattle ;
extern UBYTE stoptime ;
extern UBYTE monstertile ;

extern unsigned char *vidbase ;

extern UBYTE delayscroll ;
extern UBYTE mode4tiles ;
extern UBYTE mode8tiles ;
extern unsigned char screenbuf3[] ;
extern UBYTE mapnum ;

unsigned char towntalk20[] = {
	'W'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,0x80,0x85,0x5D,0x5D,0x5D,0x5D,0x5D,
	'S'+0x1D,'O'+0x1D,'U'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,'3'+0x48,'5'+0x48,0x5D,'A'+0x1D,'N'+0x1D,'D'+0x1D, 
	'A'+0x1D,'W'+0x1D,'A'+0x1D,'I'+0x1D,'T'+0x1D,0x5D,'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x82,0x5D, 
	'C'+0x1D,'O'+0x1D,'O'+0x1D,'K'+0x1D,'I'+0x1D,'E'+0x1D,0x5D,'C'+0x1D,'R'+0x1D,'I'+0x1D,'E'+0x1D,'S'+0x1D, 
	0x86,'L'+0x1D,'I'+0x1D,'K'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D, 
	'F'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x83,0x86,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'I'+0x1D,'O'+0x1D,'L'+0x1D,'O'+0x1D,0x5D,'S'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,'S'+0x1D,0x8A,0x5D, 
	'H'+0x1D,'O'+0x1D,0x5D,'E'+0x1D,'Y'+0x1D,'O'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'H'+0x1D,'E'+0x1D,0x5D,'H'+0x1D,'U'+0x1D,'M'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'G'+0x1D,'W'+0x1D,'I'+0x1D,'N'+0x1D,'O'+0x1D,0x5D,'S'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,'S'+0x1D,0x8A, 
	'M'+0x1D,'U'+0x1D,'H'+0x1D,0x5D,'E'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'O'+0x1D,'Y'+0x1D,'E'+0x1D,0x5D,'O'+0x1D,'H'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'P'+0x1D,'H'+0x1D,'A'+0x1D,'N'+0x1D,'T'+0x1D,'O'+0x1D,'M'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'F'+0x1D,'I'+0x1D,'G'+0x1D,'H'+0x1D,'T'+0x1D,'E'+0x1D,'R'+0x1D,0x8A,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D, 
	'F'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x5D,'S'+0x1D,'T'+0x1D,'I'+0x1D,'N'+0x1D,'K'+0x1D,'S'+0x1D,0x82, 
	'W'+0x1D,'I'+0x1D,'S'+0x1D,'E'+0x1D,0x5D,'C'+0x1D,'L'+0x1D,'E'+0x1D,'R'+0x1D,'I'+0x1D,'C'+0x1D,0x8A, 
	'4'+0x48,0x5D,'C'+0x1D,'A'+0x1D,'R'+0x1D,'D'+0x1D,'S'+0x1D,0x85,0x5D,0x5D,0x5D,0x5D, 
	'4'+0x48,0x5D,'S'+0x1D,'L'+0x1D,'O'+0x1D,'T'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'N'+0x1D,'T'+0x1D,'E'+0x1D,'R'+0x1D,0x84,0x84,0x84,0x5D,0x5D,0x5D,0x5D, 
	'I'+0x1D,'F'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'D'+0x1D,'A'+0x1D,'R'+0x1D,'E'+0x1D,0x82, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'C'+0x1D,'H'+0x1D,'U'+0x1D,'C'+0x1D,'K'+0x1D,'L'+0x1D,'E'+0x1D,'S'+0x1D,0x8A,0x5D,0x5D,0x5D, 
	'W'+0x1D,'E'+0x1D,'L'+0x1D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,'A'+0x1D,'L'+0x1D,'L'+0x1D,0x82, 
	0x18,0x0B,0x35,0x00,0x00,
	0x18,0x33,0x31,0x00,0x00,
	0x18,0x34,0x31,0x00,0x00,
	0x18,0x1E,0x25,0x00,0x00,
	0x18,0x22,0x25,0x00,0x00,
	0x18,0x1E,0x39,0x00,0x00,
	0x18,0x22,0x39,0x00,0x00,
	0x18,0x1B,0x14,0x01,0x00,
	0x18,0x0B,0x0B,0x00,0x00,
	0x18,0x35,0x0B,0x00,0x00,
	0x18,0x2B,0x2F,0x02,0x00,
	0x18,0x1F,0x13,0x00,0x00,
	0x18,0x21,0x13,0x00,0x00,
	0x18,0x2B,0x20,0x00,0x07,
	0x16,0x2E,0x18,0x01,0x00,
	0x16,0x14,0x2C,0x01,0x00,
	0x17,0x20,0x2C,0x02,0x08,
	0x1B,0x18,0x19,0x02,0x00,
	0x17,0x30,0x32,0x00,0x01,
	0x1B,0x31,0x0A,0x00,0x06,
	0x1A,0x11,0x1F,0x00,0x05,
	0x16,0x10,0x15,0x00,0x02,
	0x17,0x1E,0x10,0x02,0x03,
	0x17,0x22,0x10,0x02,0x04,
	0x1D,0x30,0x2C,0x11,0x00,
	0x24,0x2F,0x2C,0x11,0x00,
	0x22,0x30,0x2B,0x11,0x00,
	0x21,0x2F,0x2B,0x11,0x00,
	0x1D,0x30,0x28,0x01,0x00,
	0x1D,0x26,0x2C,0x01,0x00,
	0x1D,0x26,0x28,0x01,0x00,
	0x19,0x20,0x0E,0x00,0x01,


	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'E'+0x1D,'L'+0x1D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'O'+0x1D,0x5D,'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'I'+0x1D,'G'+0x1D,0x5D,'O'+0x1D,'N'+0x1D,0x5D,'I'+0x1D,'S'+0x1D,'L'+0x1D,'E'+0x1D,'S'+0x1D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'I'+0x1D,'G'+0x1D,0x5D,'U'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'I'+0x1D,'G'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'C'+0x1D,'A'+0x1D,'R'+0x1D,'E'+0x1D,'F'+0x1D,'U'+0x1D,'L'+0x1D,'L'+0x1D,'Y'+0x1D,0x82,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'J'+0x1D,'O'+0x1D,'L'+0x1D,'L'+0x1D,'Y'+0x1D,0x5D,'G'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x5D,0x5D, 
	'D'+0x1D,'A'+0x1D,'Y'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x5D,'L'+0x1D,'A'+0x1D,'S'+0x1D,'T'+0x1D,'S'+0x1D,0x5D,0x5D, 
	'B'+0x1D,'U'+0x1D,'T'+0x1D,0x5D,'A'+0x1D,0x5D,'B'+0x1D,'R'+0x1D,'I'+0x1D,'E'+0x1D,'F'+0x1D,0x5D, 
	'M'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,'N'+0x1D,'T'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'A'+0x1D,'M'+0x1D,'B'+0x1D,'R'+0x1D,'O'+0x1D,'S'+0x1D,'I'+0x1D,'A'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'A'+0x1D,'W'+0x1D,'A'+0x1D,'I'+0x1D,'T'+0x1D,'S'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'E'+0x1D,'K'+0x1D,0x5D,'Y'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'H'+0x1D,'Y'+0x1D,0x5D,'F'+0x1D,'O'+0x1D,'R'+0x1D,'T'+0x1D,'U'+0x1D,'N'+0x1D,'E'+0x1D,0x82, 
	0x1C,0x08,0x20,0x00,0x01,
	0x18,0x06,0x19,0x00,0x00,
	0x18,0x06,0x1A,0x00,0x00,
	0x18,0x06,0x1B,0x00,0x00,
	0x18,0x06,0x1C,0x00,0x00,
	0x18,0x06,0x24,0x00,0x00,
	0x18,0x06,0x25,0x00,0x00,
	0x18,0x06,0x26,0x00,0x00,
	0x18,0x06,0x27,0x00,0x00,
	0x16,0x2A,0x15,0x11,0x00,
	0x16,0x28,0x15,0x11,0x00,
	0x16,0x22,0x13,0x01,0x00,
	0x16,0x1B,0x11,0x01,0x00,
	0x16,0x13,0x12,0x01,0x00,
	0x16,0x15,0x2C,0x01,0x00,
	0x16,0x1D,0x2B,0x01,0x00,
	0x16,0x24,0x30,0x01,0x00,
	0x16,0x2B,0x32,0x01,0x00,
	0x1C,0x39,0x39,0x00,0x32,
	0x1C,0x39,0x38,0x00,0x33,
	0x1C,0x38,0x39,0x00,0x34,
	0x1A,0x13,0x15,0x02,0x05,
	0x1A,0x1C,0x15,0x02,0x05,
	0x1A,0x26,0x17,0x02,0x05,
	0x1A,0x1B,0x29,0x02,0x05,
	0x1C,0x0D,0x23,0x02,0x06,
	0x1C,0x1A,0x1C,0x02,0x06,
	0x1C,0x2A,0x26,0x02,0x06,
	0x1C,0x27,0x1D,0x02,0x06,
	0x1C,0x23,0x2D,0x02,0x06,
	0x1C,0x2E,0x2E,0x00,0x07,
	0x1C,0x2B,0x2F,0x00,0x08,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'E'+0x1D,'G'+0x1D,'O'+0x1D,'N'+0x1D,'E'+0x1D,0x5D,'F'+0x1D,'O'+0x1D,'O'+0x1D,'L'+0x1D,0x82, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'R'+0x1D,'I'+0x1D,'B'+0x1D,'E'+0x1D,0x5D,'M'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'O'+0x1D,0x5D,'E'+0x1D,'N'+0x1D,'T'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'D'+0x1D,'U'+0x1D,'S'+0x1D,0x5D,'I'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D, 
	'F'+0x1D,'O'+0x1D,'U'+0x1D,'R'+0x1D,0x5D,'A'+0x1D,'S'+0x1D,0x5D,'O'+0x1D,'N'+0x1D,'E'+0x1D,0x82, 
	'N'+0x1D,'A'+0x1D,'G'+0x1D,'R'+0x1D,'A'+0x1D,0x5D,'S'+0x1D,'A'+0x1D,'Y'+0x1D,'S'+0x1D,0x5D,0x5D,
	'M'+0x1D,'E'+0x1D,0x5D,'P'+0x1D,'I'+0x1D,'R'+0x1D,'A'+0x1D,'T'+0x1D,'E'+0x1D,0x83U,0x5D,0x5D,
	'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'P'+0x1D,'I'+0x1D,'R'+0x1D,'A'+0x1D,'T'+0x1D,'E'+0x1D,0x82U,0x5D,

	'S'+0x1D,'T'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'R'+0x1D,'E'+0x1D,'D'+0x1D,0x5D,
	'D'+0x1D,'W'+0x1D,'A'+0x1D,'R'+0x1D,'F'+0x1D,0x5D,'S'+0x1D,'A'+0x1D,'Y'+0x1D,'S'+0x1D,0x5D,0x5D,
	'I'+0x1D,0x5D,'W'+0x1D,'I'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,'P'+0x1D,'K'+0x1D,0x5D,'U'+0x1D,+0x82U,

	'N'+0x1D,'I'+0x1D,'L'+0x1D,0x5D,'S'+0x1D,'A'+0x1D,'Y'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D,0x5D,
	'W'+0x1D,'A'+0x1D,'N'+0x1D,'T'+0x1D,0x5D,'T'+0x1D,'O'+0x1D,0x5D,'P'+0x1D,'L'+0x1D,'A'+0x1D,'Y'+0x1D,
	'M'+0x1D,'R'+0x1D,0x84U,0x5D,'D'+0x1D,'R'+0x1D,'Y'+0x1D,'L'+0x1D,'L'+0x1D,'E'+0x1D,'R'+0x1D,0x83U,

	'S'+0x1D,'V'+0x1D,'E'+0x1D,'N'+0x1D,0x5D,'S'+0x1D,'A'+0x1D,'Y'+0x1D,'S'+0x1D,0x5d,0x5d,0x5d,
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'D'+0x1D,'U'+0x1D,'S'+0x1D,0x5D,'I'+0x1D,'S'+0x1D,0x5d,0x5d,0x5d,
	'C'+0x1D,'U'+0x1D,'N'+0x1D,'N'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,0x84U,0x84U,0x84U,0x5d,0x5d,

	'C'+0x1D,'H'+0x1D,'R'+0x1D,'I'+0x1D,'S'+0x1D,0x5D,'S'+0x1D,'A'+0x1D,'Y'+0x1D,'S'+0x1D,0x5d,0x5d,
	'C'+0x1D,'O'+0x1D,'O'+0x1D,'L'+0x1D,'R'+0x1D,'O'+0x1D,'B'+0x1D,'O'+0x1D,'T'+0x1D,'S'+0x1D,0x5d,0x5d,
	'D'+0x1D,'O'+0x1D,'T'+0x1D,0x5D,'C'+0x1D,'O'+0x1D,'M'+0x1D,0x82U,0x5d,0x5d,0x5d,0x5d,
	0x21,0x04,0x20,0x00,0x01,
	0x18,0x0B,0x20,0x00,0x22,
	0x18,0x0D,0x1F,0x00,0x22,
	0x18,0x0D,0x21,0x00,0x22,
	0x18,0x0A,0x0B,0x00,0x22,
	0x18,0x16,0x0B,0x00,0x22,
	0x18,0x28,0x23,0x00,0x22,
	0x18,0x28,0x21,0x00,0x22,
	0x16,0x10,0x36,0x11,0x00,
	0x18,0x28,0x1F,0x00,0x22,
	0x18,0x28,0x1D,0x00,0x22,
	0x18,0x30,0x1F,0x00,0x22,
	0x18,0x30,0x22,0x00,0x22,
	0x18,0x18,0x34,0x00,0x22,
	0x18,0x21,0x38,0x00,0x22,
	0x18,0x23,0x34,0x00,0x22,
	0x18,0x25,0x3A,0x00,0x22,
	0x21,0x3D,0x20,0x00,0x03,
	0x1D,0x35,0x21,0x02,0x00,
	0x1D,0x36,0x21,0x02,0x04,
	0x1A,0x39,0x09,0x02,0x05,
	0x1A,0x3A,0x09,0x02,0x06,
	0x1A,0x39,0x39,0x02,0x07,
	0x1A,0x3A,0x39,0x02,0x08,
	0x1D,0x10,0x20,0x02,0x00,
	0x1D,0x11,0x20,0x02,0x00,
	0x1D,0x23,0x20,0x02,0x00,
	0x1D,0x24,0x20,0x02,0x00,
	0x1D,0x0F,0x0C,0x02,0x00,
	0x1D,0x11,0x0C,0x02,0x00,
	0x1D,0x0F,0x33,0x02,0x00,
	0x1D,0x11,0x33,0x02,0x00,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,'S'+0x1D,0x5D,'G'+0x1D,'A'+0x1D,'I'+0x1D,'N'+0x1D,'E'+0x1D,'D'+0x1D, 
	'I'+0x1D,'N'+0x1D,0x5D,'D'+0x1D,'U'+0x1D,'N'+0x1D,'G'+0x1D,'E'+0x1D,'O'+0x1D,'N'+0x1D,'S'+0x1D,0x82, 
	'H'+0x1D,'O'+0x1D,'T'+0x1D,0x5D,'M'+0x1D,'E'+0x1D,'T'+0x1D,'A'+0x1D,'L'+0x1D,0x5D,0x5D,0x5D, 
	'L'+0x1D,'E'+0x1D,'A'+0x1D,'V'+0x1D,'E'+0x1D,'S'+0x1D,0x5D,'A'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'K'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'F'+0x1D,'A'+0x1D,'V'+0x1D,'O'+0x1D,'R'+0x1D,'S'+0x1D,0x5D,'A'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'A'+0x1D,0x5D,'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,0x5D,'H'+0x1D,'E'+0x1D,'L'+0x1D,'P'+0x1D,'S'+0x1D, 
	'I'+0x1D,'N'+0x1D,'V'+0x1D,'O'+0x1D,'K'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'S'+0x1D,'N'+0x1D,'A'+0x1D,'K'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'4'+0x48,0x5D,'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,'S'+0x1D,0x85,0x5D,0x5D,0x5D,0x5D, 
	'4'+0x48,0x5D,'U'+0x1D,'S'+0x1D,'E'+0x1D,'S'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'E'+0x1D,'K'+0x1D,0x5D,'Y'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D, 
	'D'+0x1D,'U'+0x1D,'N'+0x1D,'G'+0x1D,'E'+0x1D,'O'+0x1D,'N'+0x1D,0x5D,'O'+0x1D,'F'+0x1D,0x5D,0x5D, 
	'F'+0x1D,'I'+0x1D,'R'+0x1D,'E'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x1A,0x1A,0x2C,0x00,0x01,
	0x1A,0x34,0x39,0x00,0x02,
	0x1A,0x35,0x23,0x00,0x03,
	0x1A,0x38,0x21,0x00,0x04,
	0x1A,0x2E,0x1D,0x00,0x05,
	0x1A,0x24,0x14,0x00,0x06,
	0x16,0x2A,0x1F,0x01,0x00,
	0x16,0x2A,0x24,0x01,0x00,
	0x16,0x30,0x33,0x01,0x00,
	0x16,0x30,0x37,0x01,0x00,
	0x16,0x31,0x0E,0x01,0x00,
	0x16,0x0B,0x0D,0x11,0x00,
	0x0D,0x09,0x12,0x02,0x00,
	0x0D,0x0B,0x13,0x02,0x00,
	0x0D,0x0C,0x12,0x02,0x00,
	0x1D,0x0E,0x15,0x00,0x07,
	0x17,0x0F,0x21,0x02,0x00,
	0x17,0x0E,0x20,0x02,0x00,
	0x1A,0x18,0x2C,0x02,0x00,
	0x1A,0x1B,0x35,0x02,0x00,
	0x1A,0x30,0x2D,0x02,0x00,
	0x1A,0x36,0x22,0x02,0x00,
	0x1A,0x32,0x11,0x02,0x00,
	0x18,0x33,0x35,0x00,0x00,
	0x18,0x0F,0x35,0x02,0x00,
	0x18,0x0F,0x1E,0x02,0x00,
	0x18,0x24,0x22,0x02,0x00,
	0x18,0x31,0x12,0x02,0x00,
	0x18,0x27,0x11,0x02,0x00,
	0x18,0x15,0x11,0x02,0x00,
	0x18,0x2B,0x34,0x00,0x00,
	0x18,0x2B,0x36,0x00,0x00,

	'A'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,'M'+0x1D,'A'+0x1D,'Y'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'N'+0x1D,'T'+0x1D,'E'+0x1D,'R'+0x1D,0x85,0x5D,'N'+0x1D,'O'+0x1D,'N'+0x1D,'E'+0x1D,0x5D, 
	'S'+0x1D,'H'+0x1D,'A'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,'L'+0x1D,'E'+0x1D,'A'+0x1D,'V'+0x1D,'E'+0x1D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'C'+0x1D,'H'+0x1D,'O'+0x1D,'O'+0x1D,'S'+0x1D,'E'+0x1D,0x5D,'W'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D,0x5D, 
	'Y'+0x1D,'O'+0x1D,'U'+0x1D,'R'+0x1D,0x5D,'W'+0x1D,'A'+0x1D,'Y'+0x1D,0x82,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'A'+0x1D,'V'+0x1D,'E'+0x1D,0x5D,'M'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'P'+0x1D,'L'+0x1D,'E'+0x1D,'A'+0x1D,'S'+0x1D,'E'+0x1D,0x82,0x82,0x82,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'E'+0x1D,'A'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,'I'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'H'+0x1D,'E'+0x1D,'R'+0x1D,'E'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'L'+0x1D,'E'+0x1D,'A'+0x1D,'V'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'Q'+0x1D,'U'+0x1D,'I'+0x1D,'C'+0x1D,'K'+0x1D,'L'+0x1D,'Y'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x21,0x1E,0x35,0x00,0x01,
	0x21,0x22,0x35,0x00,0x01,
	0x24,0x20,0x31,0x00,0x02,
	0x1B,0x20,0x19,0x01,0x03,
	0x5C,0x2E,0x12,0x00,0x04,
	0x5C,0x12,0x12,0x00,0x04,
	0x1D,0x12,0x22,0x02,0x05,
	0x1D,0x2E,0x16,0x02,0x05,
	0x13,0x17,0x3D,0x11,0x00,
	0x14,0x29,0x3D,0x11,0x00,
	0x0C,0x13,0x1A,0x11,0x00,
	0x0C,0x2D,0x1E,0x11,0x00,
	0x0B,0x1F,0x0E,0x11,0x00,
	0x0B,0x20,0x0E,0x11,0x00,
	0x0B,0x1F,0x0D,0x11,0x00,
	0x0B,0x20,0x0D,0x11,0x00,
	0x22,0x12,0x1E,0x11,0x00,
	0x22,0x2E,0x1A,0x11,0x00,
	0x24,0x2F,0x2F,0x11,0x00,
	0x24,0x11,0x2F,0x11,0x00,
	0x23,0x13,0x36,0x11,0x00,
	0x23,0x0A,0x2F,0x11,0x00,
	0x23,0x36,0x2F,0x11,0x00,
	0x23,0x2D,0x36,0x11,0x00,
	0x23,0x0E,0x12,0x11,0x00,
	0x23,0x12,0x0E,0x11,0x00,
	0x23,0x2E,0x0E,0x11,0x00,
	0x23,0x32,0x12,0x11,0x00,
	0x18,0x1C,0x23,0x11,0x00,
	0x18,0x24,0x23,0x11,0x00,
	0x04,0x09,0x3B,0x11,0x00,
	0x04,0x37,0x3B,0x11,0x00,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'P'+0x1D,'R'+0x1D,'A'+0x1D,'Y'+0x1D,0x5D,'F'+0x1D,'O'+0x1D,'R'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D, 
	'I'+0x1D,'N'+0x1D,'V'+0x1D,'O'+0x1D,'C'+0x1D,'A'+0x1D,'T'+0x1D,'I'+0x1D,'O'+0x1D,'N'+0x1D,0x82,0x5D, 
	'P'+0x1D,'R'+0x1D,'A'+0x1D,'Y'+0x1D,0x5D,'I'+0x1D,'N'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D, 
	'C'+0x1D,'I'+0x1D,'R'+0x1D,'C'+0x1D,'L'+0x1D,'E'+0x1D,0x5D,'O'+0x1D,'F'+0x1D,0x5D,0x5D,0x5D, 
	'L'+0x1D,'I'+0x1D,'G'+0x1D,'H'+0x1D,'T'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'I'+0x1D,'N'+0x1D,'V'+0x1D,'O'+0x1D,'K'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'S'+0x1D,'I'+0x1D,'L'+0x1D,'V'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,'S'+0x1D,'N'+0x1D,'A'+0x1D,'K'+0x1D,'E'+0x1D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'O'+0x1D,0x5D,'P'+0x1D,'A'+0x1D,'S'+0x1D,'S'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D, 
	'N'+0x1D,'E'+0x1D,'E'+0x1D,'D'+0x1D,0x5D,'A'+0x1D,0x5D,'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,0x82, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'F'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x5D,'I'+0x1D,'S'+0x1D,0x5D,'A'+0x1D,0x5D,0x5D,0x5D, 
	'N'+0x1D,'I'+0x1D,'C'+0x1D,'E'+0x1D,0x5D,'P'+0x1D,'L'+0x1D,'A'+0x1D,'C'+0x1D,'E'+0x1D,0x82,0x5D, 
	'W'+0x1D,'E'+0x1D,'L'+0x1D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'O'+0x1D,0x5D,0x5D, 
	'F'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x8A,0x5D,'C'+0x1D,'I'+0x1D,'T'+0x1D,'Y'+0x1D,0x5D,0x5D, 
	'O'+0x1D,'F'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'S'+0x1D,'E'+0x1D,'A'+0x1D,0x82,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x1B,0x2D,0x24,0x00,0x41,
	0x1B,0x1C,0x24,0x00,0x42,
	0x1B,0x1C,0x1C,0x00,0x03,
	0x1B,0x34,0x0D,0x00,0x04,
	0x1B,0x13,0x33,0x00,0x05,
	0x16,0x19,0x33,0x01,0x00,
	0x16,0x29,0x28,0x02,0x00,
	0x16,0x2A,0x28,0x02,0x00,
	0x16,0x2B,0x28,0x02,0x00,
	0x16,0x2B,0x1A,0x01,0x00,
	0x16,0x20,0x0B,0x01,0x00,
	0x18,0x04,0x25,0x00,0x00,
	0x18,0x04,0x1B,0x00,0x00,
	0x18,0x10,0x19,0x00,0x00,
	0x18,0x10,0x27,0x00,0x00,
	0x18,0x1E,0x13,0x00,0x00,
	0x18,0x22,0x13,0x00,0x00,
	0x18,0x21,0x1A,0x02,0x00,
	0x18,0x21,0x28,0x02,0x00,
	0x1D,0x18,0x30,0x02,0x00,
	0x1D,0x19,0x30,0x02,0x00,
	0x1D,0x1A,0x30,0x02,0x00,
	0x1D,0x1B,0x30,0x02,0x00,
	0x1A,0x15,0x12,0x02,0x00,
	0x1B,0x16,0x12,0x02,0x00,
	0x1C,0x17,0x12,0x02,0x00,
	0x1D,0x18,0x12,0x02,0x00,
	0x1A,0x1F,0x2C,0x02,0x00,
	0x1B,0x20,0x2C,0x02,0x00,
	0x1C,0x21,0x2C,0x02,0x00,
	0x1D,0x22,0x2C,0x02,0x00,
	0x1D,0x10,0x20,0x00,0x06,

	'Y'+0x1D,'O'+0x1D,0x82,0x5D,'H'+0x1D,'O'+0x1D,0x82,0x5D,'H'+0x1D,'O'+0x1D,0x82,0x5D, 
	'A'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'A'+0x1D,0x5D,'B'+0x1D,'O'+0x1D,'T'+0x1D,'T'+0x1D,'L'+0x1D,'E'+0x1D, 
	'O'+0x1D,'F'+0x1D,0x5D,'R'+0x1D,'U'+0x1D,'M'+0x1D,0x82,0x82,0x82,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'A'+0x1D,'T'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,'I'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'U'+0x1D,'B'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'V'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,'S'+0x1D,'E'+0x1D,'E'+0x1D,'N'+0x1D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'M'+0x1D,'S'+0x1D,0x83, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,0x5D,'C'+0x1D,'L'+0x1D,'U'+0x1D,'E'+0x1D,'S'+0x1D, 
	'F'+0x1D,'O'+0x1D,'U'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'A'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'O'+0x1D,'N'+0x1D,'L'+0x1D,'Y'+0x1D,0x5D,'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,'S'+0x1D, 
	'W'+0x1D,'I'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,'P'+0x1D,'R'+0x1D,'O'+0x1D,'T'+0x1D,'E'+0x1D,'C'+0x1D,'T'+0x1D, 
	'F'+0x1D,'R'+0x1D,'O'+0x1D,'M'+0x1D,0x5D,'E'+0x1D,'V'+0x1D,'I'+0x1D,'L'+0x1D,0x82,0x5D,0x5D, 
	'D'+0x1D,'O'+0x1D,'N'+0x1D,0x86,'T'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'I'+0x1D,'S'+0x1D,'H'+0x1D,0x5D,'T'+0x1D,'O'+0x1D,0x5D,'B'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'A'+0x1D,0x5D,'J'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,'E'+0x1D,'R'+0x1D,0x83,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x1D,0x21,0x16,0x02,0x01,
	0x1D,0x21,0x18,0x02,0x01,
	0x1D,0x27,0x1A,0x02,0x01,
	0x1D,0x2B,0x18,0x02,0x01,
	0x1D,0x25,0x18,0x02,0x01,
	0x1D,0x24,0x1A,0x02,0x01,
	0x1D,0x28,0x18,0x02,0x01,
	0x1D,0x2B,0x1A,0x02,0x01,
	0x16,0x27,0x16,0x02,0x00,
	0x1D,0x2A,0x1C,0x00,0x01,
	0x16,0x21,0x13,0x01,0x00,
	0x16,0x1A,0x17,0x01,0x00,
	0x1D,0x19,0x19,0x02,0x00,
	0x1D,0x28,0x2A,0x11,0x00,
	0x16,0x23,0x2E,0x01,0x00,
	0x16,0x1D,0x2D,0x01,0x00,
	0x18,0x10,0x1F,0x00,0x02,
	0x18,0x10,0x21,0x00,0x02,
	0x18,0x1F,0x26,0x00,0x02,
	0x18,0x21,0x26,0x00,0x02,
	0x1D,0x1C,0x29,0x02,0x03,
	0x1D,0x1F,0x29,0x02,0x03,
	0x1D,0x21,0x2A,0x02,0x03,
	0x1D,0x25,0x29,0x02,0x03,
	0x1A,0x1A,0x2F,0x00,0x04,
	0x1C,0x21,0x1A,0x00,0x05,
	0x17,0x19,0x20,0x02,0x06,
	0x17,0x1B,0x20,0x02,0x06,
	0x17,0x1D,0x20,0x02,0x06,
	0x17,0x1F,0x20,0x02,0x06,
	0x17,0x21,0x20,0x02,0x06,
	0x17,0x23,0x20,0x02,0x06,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'I'+0x1D,'S'+0x1D,0x5D,'I'+0x1D,'T'+0x1D,0x5D,'N'+0x1D,'O'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D, 
	'L'+0x1D,'O'+0x1D,'V'+0x1D,'E'+0x1D,'L'+0x1D,'Y'+0x1D,0x83,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'Q'+0x1D,'U'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,'Y'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'U'+0x1D,'N'+0x1D,'T'+0x1D,'O'+0x1D,0x5D,'L'+0x1D,'O'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D, 
	'A'+0x1D,'M'+0x1D,'B'+0x1D,'R'+0x1D,'O'+0x1D,'S'+0x1D,'I'+0x1D,'A'+0x1D,0x82,0x5D,0x5D,0x5D, 
	'O'+0x1D,'N'+0x1D,'L'+0x1D,'Y'+0x1D,0x5D,'W'+0x1D,'I'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'M'+0x1D,'S'+0x1D,0x5D, 
	'C'+0x1D,'A'+0x1D,'N'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'W'+0x1D,'I'+0x1D,'N'+0x1D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'D'+0x1D,'U'+0x1D,'S'+0x1D,0x5D,'L'+0x1D,'I'+0x1D,'E'+0x1D,'S'+0x1D,0x5D, 
	'B'+0x1D,'E'+0x1D,'Y'+0x1D,'O'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'S'+0x1D,'I'+0x1D,'L'+0x1D,'V'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,'S'+0x1D,'N'+0x1D,'A'+0x1D,'K'+0x1D,'E'+0x1D, 
	'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x5D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,'S'+0x1D,0x5D,0x5D, 
	'E'+0x1D,'A'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,'N'+0x1D,'E'+0x1D,'W'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'P'+0x1D,'A'+0x1D,'I'+0x1D,'R'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'U'+0x1D,'P'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,'L'+0x1D,'A'+0x1D,'U'+0x1D,'G'+0x1D,'H'+0x1D,'S'+0x1D, 
	0x86,'D'+0x1D,'R'+0x1D,'I'+0x1D,'N'+0x1D,'K'+0x1D,0x5D,'U'+0x1D,'P'+0x1D,0x82,0x86,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'R'+0x1D,'O'+0x1D,'U'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'B'+0x1D,'A'+0x1D,'C'+0x1D,'K'+0x1D,0x82,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'H'+0x1D,'O'+0x1D,0x82,0x5D,'H'+0x1D,'O'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x18,0x07,0x1E,0x00,0x00,
	0x18,0x07,0x22,0x00,0x00,
	0x18,0x39,0x22,0x00,0x00,
	0x18,0x39,0x1E,0x00,0x00,
	0x16,0x11,0x0E,0x01,0x00,
	0x16,0x27,0x11,0x01,0x00,
	0x16,0x32,0x12,0x01,0x00,
	0x16,0x30,0x33,0x01,0x00,
	0x1B,0x13,0x33,0x00,0x01,
	0x1C,0x20,0x04,0x00,0x02,
	0x1D,0x2C,0x12,0x00,0x03,
	0x1D,0x0D,0x14,0x00,0x04,
	0x16,0x0C,0x33,0x00,0x05,
	0x1A,0x0F,0x10,0x00,0x06,
	0x1A,0x28,0x14,0x02,0x00,
	0x1A,0x2A,0x15,0x02,0x00,
	0x1A,0x2C,0x16,0x02,0x00,
	0x1D,0x36,0x16,0x00,0x07,
	0x18,0x33,0x30,0x02,0x00,
	0x18,0x2C,0x14,0x02,0x00,
	0x18,0x2A,0x13,0x02,0x00,
	0x18,0x1F,0x11,0x02,0x00,
	0x18,0x20,0x25,0x02,0x00,
	0x18,0x31,0x20,0x02,0x00,
	0x18,0x21,0x39,0x02,0x00,
	0x18,0x36,0x14,0x02,0x00,
	0x16,0x11,0x0C,0x02,0x00,
	0x1B,0x17,0x32,0x02,0x00,
	0x1C,0x08,0x34,0x02,0x00,
	0x17,0x37,0x38,0x02,0x08,
	0x17,0x25,0x20,0x02,0x08,
	0x17,0x1B,0x20,0x02,0x08,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'G'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x5D,'S'+0x1D,'T'+0x1D,'U'+0x1D,'F'+0x1D,'F'+0x1D,0x85,0x5D, 
	'E'+0x1D,'H'+0x1D,0x83,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'E'+0x1D,'K'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'J'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,'I'+0x1D,'N'+0x1D,0x5D,0x5D,0x5D, 
	'C'+0x1D,'A'+0x1D,'S'+0x1D,'T'+0x1D,'L'+0x1D,'E'+0x1D,0x5D,'F'+0x1D,'I'+0x1D,'R'+0x1D,'E'+0x1D,0x82, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'N'+0x1D,'T'+0x1D,'R'+0x1D,'I'+0x1D,0x8A,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'G'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x5D,'G'+0x1D,'R'+0x1D,'O'+0x1D,'G'+0x1D,0x82,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'H'+0x1D,'A'+0x1D,'M'+0x1D,'I'+0x1D,'N'+0x1D,'O'+0x1D,0x8A,0x5D,0x5D,0x5D,0x5D, 
	'G'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x5D,'F'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x82,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'A'+0x1D,'R'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'S'+0x1D,'H'+0x1D,'R'+0x1D,'I'+0x1D,'N'+0x1D,'E'+0x1D,'S'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'A'+0x1D,'R'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,'F'+0x1D,'O'+0x1D,'R'+0x1D,0x5D,0x5D, 
	'C'+0x1D,'A'+0x1D,'R'+0x1D,'D'+0x1D,'S'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'N'+0x1D,'O'+0x1D,'N'+0x1D,'E'+0x1D,0x5D,'S'+0x1D,'H'+0x1D,'A'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,0x5D, 
	'P'+0x1D,'A'+0x1D,'S'+0x1D,'S'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x18,0x0F,0x1D,0x00,0x00,
	0x18,0x0F,0x1E,0x00,0x00,
	0x18,0x0F,0x22,0x00,0x00,
	0x18,0x0F,0x23,0x00,0x00,
	0x18,0x0D,0x0E,0x02,0x00,
	0x18,0x0F,0x0F,0x02,0x00,
	0x18,0x0E,0x10,0x02,0x00,
	0x18,0x10,0x10,0x02,0x00,
	0x18,0x2F,0x10,0x02,0x00,
	0x18,0x31,0x11,0x02,0x00,
	0x18,0x33,0x10,0x02,0x00,
	0x18,0x32,0x0E,0x02,0x00,
	0x18,0x33,0x32,0x02,0x00,
	0x18,0x31,0x31,0x02,0x00,
	0x18,0x33,0x30,0x02,0x00,
	0x18,0x2F,0x2F,0x02,0x00,
	0x18,0x0D,0x32,0x02,0x00,
	0x18,0x0E,0x30,0x02,0x00,
	0x18,0x0F,0x2F,0x02,0x00,
	0x18,0x11,0x30,0x02,0x00,
	0x16,0x27,0x32,0x01,0x00,
	0x16,0x20,0x33,0x01,0x00,
	0x16,0x19,0x32,0x01,0x00,
	0x16,0x32,0x25,0x01,0x00,
	0x16,0x33,0x1A,0x01,0x00,
	0x1D,0x30,0x1D,0x02,0x01,
	0x1A,0x35,0x1E,0x02,0x02,
	0x1A,0x19,0x30,0x02,0x03,
	0x1A,0x27,0x30,0x02,0x04,
	0x1D,0x1A,0x0C,0x01,0x55,
	0x1D,0x26,0x10,0x01,0x56,
	0x18,0x20,0x13,0x00,0x07,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'I'+0x1D,'N'+0x1D,'S'+0x1D,'E'+0x1D,'R'+0x1D,'T'+0x1D,0x5D,'C'+0x1D,'A'+0x1D,'R'+0x1D,'D'+0x1D,'S'+0x1D, 
	'I'+0x1D,'N'+0x1D,'T'+0x1D,'O'+0x1D,0x5D,'P'+0x1D,'A'+0x1D,'N'+0x1D,'E'+0x1D,'L'+0x1D,'S'+0x1D,0x82, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'4'+0x48,0x5D,'C'+0x1D,'A'+0x1D,'R'+0x1D,'D'+0x1D,'S'+0x1D,0x85,0x5D,0x5D,0x5D,0x5D, 
	'4'+0x48,0x5D,'P'+0x1D,'A'+0x1D,'N'+0x1D,'E'+0x1D,'L'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'J'+0x1D,'O'+0x1D,'L'+0x1D,'L'+0x1D,'Y'+0x1D,0x5D,'J'+0x1D,'O'+0x1D,'E'+0x1D,0x8A,0x5D,0x5D, 
	'H'+0x1D,'O'+0x1D,0x5D,'H'+0x1D,'O'+0x1D,0x5D,'H'+0x1D,'O'+0x1D,0x82,0x5D,0x5D,0x5D, 
	'B'+0x1D,'A'+0x1D,'B'+0x1D,'Y'+0x1D,0x5D,'B'+0x1D,'O'+0x1D,'B'+0x1D,0x8A,0x5D,0x5D,0x5D, 
	'B'+0x1D,'R'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,0x5D,'M'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'U'+0x1D,'C'+0x1D,'K'+0x1D,'S'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'C'+0x1D,'A'+0x1D,'R'+0x1D,'D'+0x1D,'S'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D, 
	'U'+0x1D,'S'+0x1D,'E'+0x1D,'F'+0x1D,'U'+0x1D,'L'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'M'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,'S'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D, 
	'U'+0x1D,'S'+0x1D,'E'+0x1D,'F'+0x1D,'U'+0x1D,'L'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,'S'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'E'+0x1D,0x5D, 
	'U'+0x1D,'S'+0x1D,'E'+0x1D,'F'+0x1D,'U'+0x1D,'L'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x18,0x0D,0x0E,0x00,0x00,
	0x18,0x0F,0x0F,0x00,0x00,
	0x18,0x0E,0x10,0x00,0x00,
	0x18,0x10,0x10,0x00,0x00,
	0x18,0x0D,0x32,0x00,0x00,
	0x18,0x0E,0x30,0x00,0x00,
	0x18,0x11,0x30,0x00,0x00,
	0x18,0x0F,0x2F,0x00,0x00,
	0x18,0x2F,0x2F,0x00,0x00,
	0x18,0x33,0x30,0x00,0x00,
	0x18,0x31,0x31,0x00,0x00,
	0x18,0x33,0x32,0x00,0x00,
	0x18,0x2F,0x10,0x00,0x00,
	0x18,0x31,0x11,0x00,0x00,
	0x18,0x33,0x10,0x00,0x00,
	0x18,0x32,0x0E,0x00,0x00,
	0x18,0x0F,0x1D,0x00,0x00,
	0x18,0x0F,0x1E,0x00,0x00,
	0x18,0x0F,0x22,0x00,0x00,
	0x18,0x0F,0x23,0x00,0x00,
	0x16,0x1A,0x09,0x02,0x00,
	0x16,0x1D,0x09,0x02,0x00,
	0x16,0x23,0x0A,0x02,0x00,
	0x16,0x25,0x0A,0x02,0x00,
	0x16,0x20,0x32,0x01,0x00,
	0x1B,0x07,0x24,0x00,0x11,
	0x1B,0x07,0x1C,0x00,0x02,
	0x17,0x20,0x20,0x02,0x03,
	0x1A,0x1B,0x0C,0x02,0x04,
	0x1A,0x25,0x0D,0x02,0x05,
	0x1A,0x1C,0x2E,0x02,0x06,
	0x1A,0x23,0x30,0x02,0x07,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'E'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'H'+0x1D,'O'+0x1D,'N'+0x1D,'O'+0x1D,'R'+0x1D,'E'+0x1D,'D'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'E'+0x1D,'E'+0x1D,'K'+0x1D,0x5D,'Y'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'S'+0x1D,'H'+0x1D,'R'+0x1D,'I'+0x1D,'N'+0x1D,'E'+0x1D,'S'+0x1D,0x5D, 
	'O'+0x1D,'F'+0x1D,0x5D,'T'+0x1D,'R'+0x1D,'U'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'R'+0x1D,'I'+0x1D,'B'+0x1D,'E'+0x1D,0x5D,'G'+0x1D,'U'+0x1D,'A'+0x1D,'R'+0x1D,'D'+0x1D,'S'+0x1D, 
	'A'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,'Y'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'I'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,'L'+0x1D,'E'+0x1D,'A'+0x1D,'V'+0x1D,'E'+0x1D,0x82,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'T'+0x1D,'O'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'M'+0x1D,'S'+0x1D,0x82,0x5D,'A'+0x1D,'N'+0x1D,'D'+0x1D, 
	'T'+0x1D,'O'+0x1D,0x5D,'B'+0x1D,'A'+0x1D,'T'+0x1D,'T'+0x1D,'L'+0x1D,'E'+0x1D,0x82,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'P'+0x1D,'E'+0x1D,'A'+0x1D,'C'+0x1D,'E'+0x1D,0x5D,'B'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'I'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x84,0x5D,0x5D,0x5D, 
	'I'+0x1D,0x86,'V'+0x1D,'E'+0x1D,0x5D,'B'+0x1D,'E'+0x1D,'E'+0x1D,'N'+0x1D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'E'+0x1D,'Y'+0x1D,'O'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'W'+0x1D,'H'+0x1D,'I'+0x1D,'R'+0x1D,'L'+0x1D,'P'+0x1D,'O'+0x1D,'O'+0x1D,'L'+0x1D,0x82,0x5D,0x5D, 
	'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x5D,'R'+0x1D,'I'+0x1D,'S'+0x1D,'E'+0x1D,'S'+0x1D,0x5D,0x5D, 
	'I'+0x1D,'N'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'D'+0x1D,'A'+0x1D,'R'+0x1D,'K'+0x1D,0x5D, 
	'F'+0x1D,'O'+0x1D,'R'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,0x84,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'E'+0x1D,'P'+0x1D,'A'+0x1D,'R'+0x1D,'T'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x84,0x84,0x84,'O'+0x1D,'R'+0x1D,0x5D,'D'+0x1D,'I'+0x1D,'E'+0x1D,0x82,0x82,0x82, 
	0x16,0x09,0x20,0x00,0x01,
	0x1B,0x0E,0x10,0x00,0x02,
	0x16,0x2D,0x0E,0x01,0x00,
	0x1A,0x2F,0x12,0x00,0x04,
	0x1A,0x30,0x12,0x00,0x23,
	0x1A,0x30,0x14,0x02,0x04,
	0x1A,0x2B,0x14,0x02,0x04,
	0x1A,0x29,0x12,0x02,0x04,
	0x1A,0x2B,0x10,0x02,0x04,
	0x18,0x2B,0x16,0x00,0x00,
	0x18,0x2F,0x16,0x00,0x00,
	0x16,0x32,0x34,0x01,0x00,
	0x1B,0x30,0x32,0x00,0x05,
	0x1B,0x34,0x32,0x00,0x05,
	0x1B,0x2B,0x35,0x00,0x06,
	0x16,0x12,0x33,0x01,0x00,
	0x17,0x0F,0x2F,0x00,0x00,
	0x1C,0x15,0x2F,0x02,0x00,
	0x1C,0x16,0x2F,0x02,0x00,
	0x1C,0x07,0x07,0x00,0x07,
	0x18,0x09,0x22,0x00,0x00,
	0x18,0x09,0x1E,0x00,0x00,
	0x18,0x10,0x22,0x00,0x00,
	0x18,0x15,0x22,0x00,0x00,
	0x18,0x1B,0x1E,0x00,0x00,
	0x18,0x1F,0x1E,0x00,0x00,
	0x18,0x28,0x1E,0x00,0x00,
	0x18,0x2A,0x22,0x00,0x00,
	0x17,0x34,0x20,0x02,0x00,
	0x17,0x35,0x20,0x02,0x00,
	0x21,0x06,0x2C,0x00,0x08,
	0x21,0x06,0x2D,0x00,0x08,

	'S'+0x1D,'E'+0x1D,'A'+0x1D,'R'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,'A'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,0x5D, 
	'Y'+0x1D,'E'+0x1D,0x5D,'S'+0x1D,'H'+0x1D,'A'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'F'+0x1D,'I'+0x1D,'N'+0x1D,'D'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'E'+0x1D,'L'+0x1D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'O'+0x1D,0x5D,0x5D, 
	'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'C'+0x1D,'I'+0x1D,'R'+0x1D,'C'+0x1D,'L'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'O'+0x1D,'F'+0x1D,0x5D,'L'+0x1D,'I'+0x1D,'G'+0x1D,'H'+0x1D,'T'+0x1D,0x82,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'B'+0x1D,'O'+0x1D,'N'+0x1D,'I'+0x1D,'M'+0x1D,0x5D,'A'+0x1D,'N'+0x1D,'I'+0x1D,'M'+0x1D,'A'+0x1D,0x5D, 
	'T'+0x1D,'E'+0x1D,'R'+0x1D,'I'+0x1D,0x85,0x5D,'A'+0x1D,'M'+0x1D,'E'+0x1D,'N'+0x1D,0x82,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'K'+0x1D,'N'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,'Y'+0x1D,'E'+0x1D,0x5D,'W'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D, 
	'T'+0x1D,'H'+0x1D,'Y'+0x1D,0x5D,'F'+0x1D,'O'+0x1D,'E'+0x1D,'S'+0x1D,0x82,0x82,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x1B,0x16,0x20,0x00,0x01,
	0x1B,0x2D,0x33,0x00,0x02,
	0x1B,0x33,0x33,0x00,0x02,
	0x1B,0x33,0x2D,0x00,0x02,
	0x1B,0x2D,0x2D,0x00,0x02,
	0x1B,0x07,0x30,0x00,0x03,
	0x1B,0x09,0x2E,0x00,0x03,
	0x1B,0x0E,0x2E,0x00,0x03,
	0x1B,0x14,0x2E,0x00,0x03,
	0x1B,0x17,0x30,0x00,0x03,
	0x1B,0x19,0x32,0x00,0x03,
	0x1B,0x12,0x32,0x00,0x03,
	0x1B,0x0D,0x32,0x00,0x03,
	0x16,0x1F,0x0F,0x01,0x00,
	0x16,0x30,0x08,0x01,0x00,
	0x1B,0x2D,0x0C,0x00,0x03,
	0x1B,0x33,0x0C,0x00,0x03,
	0x1B,0x2C,0x1C,0x02,0x04,
	0x1B,0x2C,0x27,0x02,0x04,
	0x1B,0x1C,0x27,0x02,0x04,
	0x1B,0x1C,0x16,0x02,0x04,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,
	0x00,0x00,0x00,0x02,0x00,

	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'I'+0x1D,'S'+0x1D,0x5D,'I'+0x1D,'T'+0x1D,0x5D,'N'+0x1D,'O'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D, 
	'L'+0x1D,'O'+0x1D,'V'+0x1D,'E'+0x1D,'L'+0x1D,'Y'+0x1D,0x83,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'Q'+0x1D,'U'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,'Y'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'U'+0x1D,'N'+0x1D,'T'+0x1D,'O'+0x1D,0x5D,'L'+0x1D,'O'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D, 
	'A'+0x1D,'M'+0x1D,'B'+0x1D,'R'+0x1D,'O'+0x1D,'S'+0x1D,'I'+0x1D,'A'+0x1D,0x82,0x5D,0x5D,0x5D, 
	'O'+0x1D,'N'+0x1D,'L'+0x1D,'Y'+0x1D,0x5D,'W'+0x1D,'I'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'T'+0x1D,'I'+0x1D,'C'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'M'+0x1D,'S'+0x1D,0x5D, 
	'C'+0x1D,'A'+0x1D,'N'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'W'+0x1D,'I'+0x1D,'N'+0x1D,0x5D, 
	'E'+0x1D,'X'+0x1D,'O'+0x1D,'D'+0x1D,'U'+0x1D,'S'+0x1D,0x5D,'L'+0x1D,'I'+0x1D,'E'+0x1D,'S'+0x1D,0x5D, 
	'B'+0x1D,'E'+0x1D,'Y'+0x1D,'O'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,0x5D, 
	'S'+0x1D,'I'+0x1D,'L'+0x1D,'V'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,'S'+0x1D,'N'+0x1D,'A'+0x1D,'K'+0x1D,'E'+0x1D, 
	'D'+0x1D,'A'+0x1D,'W'+0x1D,'N'+0x1D,0x5D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,'S'+0x1D,0x5D,0x5D, 
	'E'+0x1D,'A'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,'N'+0x1D,'E'+0x1D,'W'+0x1D,0x5D,0x5D,0x5D,0x5D, 
	'P'+0x1D,'A'+0x1D,'I'+0x1D,'R'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'D'+0x1D,'U'+0x1D,'P'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,'L'+0x1D,'A'+0x1D,'U'+0x1D,'G'+0x1D,'H'+0x1D,'S'+0x1D, 
	0x86,'D'+0x1D,'R'+0x1D,'I'+0x1D,'N'+0x1D,'K'+0x1D,0x5D,'U'+0x1D,'P'+0x1D,0x82,0x86,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'R'+0x1D,'O'+0x1D,'U'+0x1D,'N'+0x1D,'D'+0x1D,0x5D,'B'+0x1D,'A'+0x1D,'C'+0x1D,'K'+0x1D,0x82,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'H'+0x1D,'O'+0x1D,0x82,0x5D,'H'+0x1D,'O'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D, 
	0x23,0x1F,0x06,0x11,0x00,
	0x23,0x20,0x06,0x11,0x00,
	0x22,0x2D,0x0B,0x11,0x00,
	0x17,0x2E,0x09,0x11,0x00,
	0x21,0x06,0x3D,0x11,0x00,
	0x15,0x2B,0x3C,0x11,0x00,
	0x15,0x23,0x0A,0x11,0x00,
	0x0D,0x0C,0x1B,0x11,0x00,
	0x0D,0x0C,0x1C,0x11,0x00,
	0x15,0x12,0x38,0x11,0x00,
	0x22,0x26,0x3A,0x11,0x00,
	0x21,0x05,0x25,0x11,0x00,
	0x1F,0x05,0x2C,0x11,0x00,
	0x1F,0x09,0x2C,0x11,0x00,
	0x24,0x0A,0x0A,0x11,0x00,
	0x24,0x33,0x23,0x11,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,
} ;

unsigned char whodat20[] = {
	'W'+0x1D,'H'+0x1D,'O'+0x1D,0x83,0x5d,0x5d,0x5d,0x5d,0x5d,0x5d,0x5d,0x5d
};

unsigned char gooddaydat20[] = {
	'G'+0x1D,'O'+0x1D,'O'+0x1D,'D'+0x1D,0x5D,'D'+0x1D,'A'+0x1D,'Y'+0x1D,0x82,0x5d,0x5d,0x5d
};

unsigned char notheredat20[] = {
	'N'+0x1D,'O'+0x1D,'T'+0x1D,0x5D,'H'+0x1D,'E'+0x1D,'R'+0x1D,'E'+0x1D,0x82,0x5D,0x5D,0x5D
} ;

unsigned char chardat20[] = {
	'H'+0x1D,'F'+0x1D,'M'+0x1D  
};
unsigned char charstat20[] = {
	'G'+0x1D,'P'+0x1D,'D'+0x1D,'A'+0x1D
};
unsigned char anddat20[] = {
	'A'+0x1D,'N'+0x1D,'D'+0x1D,
} ;

unsigned char golddat20[] = {
	'G'+0x1D,'O'+0x1D,'L'+0x1D,'D'+0x1D
} ;

unsigned char nochestdat20[] = {
	'N'+0x1D,'O'+0x1D,0x5D,'C'+0x1D,'H'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D,0x5D
} ;

unsigned char dirdat20[] = {
	'D'+0x1D,'I'+0x1D,'R'+0x1D,'E'+0x1D,'C'+0x1D,'T'+0x1D,'I'+0x1D,'O'+0x1D,'N'+0x1D,0x83,0x5d,0x5D
};

unsigned char noresponsedat20[] = {
	'N'+0x1D,'O'+0x1D,0x5D,'R'+0x1D,'E'+0x1D,'S'+0x1D,'P'+0x1D,'O'+0x1D,'N'+0x1D,'S'+0x1D,'E'+0x1D,0x5d
} ;

unsigned char emptydat20[] = {
	'N'+0x1D,'O'+0x1D,'T'+0x1D,'H'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D
} ;

unsigned char deaddat20[] = {
	'P'+0x1D,'L'+0x1D,'A'+0x1D,'Y'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,'D'+0x1D,'E'+0x1D,'A'+0x1D,'D'+0x1D,0x82 
} ;


unsigned char yesno20[] = {
	'N'+0x1D,'O'+0x1D,0x5d,0x5d,0x5d,0x5d,0x5d,
	'Y'+0x1D,'E'+0x1D,'S'+0x1D,0x5d,0x5d,0x5d,0x5d
};


void formatnumber20(UWORD num,UBYTE length)
{
	UBYTE n ;
	unsigned char ch ;
	UWORD tens ;

	tens =1 ;

	for ( n=0 ; n<length-1 ; n++ )
		tens = tens*10 ;

	for ( n=0 ; n<length ; n++ )
	{
		ch=0x78U ; //'0'
		while ( num>= tens )
		{
			num -= tens ;
			ch++ ;
		}
		tens = tens/10 ;
		*((unsigned char*)screenbuf3+(UWORD)n) = ch ;


	}

}

void charscreen20(PLAYER *player, UBYTE loc)
{
	UBYTE n ;

	memset(screenbuf3,0x5D,11L) ;

	for ( n=0 ; n<4 ; n++ )
		set_bkg_tiles2( 13, n+1+(loc<<2), 7, 1, (unsigned char*)screenbuf3 );

	if ( !(player->inparty) )
		return ;

	set_bkg_tiles2( 13, 2+(loc<<2), 1, 3, chardat20);

	set_bkg_tiles2( 13, 1+(loc<<2), 7, 1, player->name );
	formatnumber20(player->currHP,4) ;
	set_bkg_tiles2( 14, 2+(loc<<2), 4, 1, (unsigned char*)screenbuf3);

	set_bkg_tiles2( 19, 2+(loc<<2), 1, 1, charstat20+(UWORD)player->status );

	formatnumber20(player->food,4) ;
	set_bkg_tiles2( 14, 3+(loc<<2), 4, 1, (unsigned char*)screenbuf3 );

	formatnumber20(player->magic,2) ;
	set_bkg_tiles2( 14, 4+(loc<<2), 2, 1, (unsigned char*)screenbuf3 );

	formatnumber20(player->level,2) ;
	set_bkg_tiles2( 18, 4+(loc<<2), 2, 1, (unsigned char*)screenbuf3 );

	*(unsigned char*)screenbuf3 = 'L'+0x1D ;
	set_bkg_tiles2( 17, 4+(loc<<2), 1, 1, (unsigned char*)screenbuf3 );


}
unsigned char dirarr5[] = {
	'N'+0x1D,'O'+0x1D,'R'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'S'+0x1D,'O'+0x1D,'U'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'E'+0x1D,'A'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
	'W'+0x1D,'E'+0x1D,'S'+0x1D,'T'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
};

UBYTE getdir20()
{
	UBYTE dir, p, keys ;
/*   
   memset(screenbuf3,0x5D,12L) ;
   for (p = 0 ; p<5 ; p++)
	  set_bkg_tiles2(0,p+13,12,1,(unsigned char*)screenbuf3) ;

   memset(screenbuf3,0x00,12L) ;
   VBK_REG=1 ;
   
   for (p = 0 ; p<5 ; p++)
	  set_bkg_tiles2(0,p+13,12,1,(unsigned char*)screenbuf3) ;
   
   VBK_REG=0 ;

   set_bkg_tiles2(1,15,9,1,dirdat20);
   set_bkg_tiles2(1,16,9,1,dirdat20+9L);
*/  
	writegamemessage(dirdat20) ;

	waitpadup() ;
	dir = 0 ;
	while ( 1 )
	{
		keys = joypad() ;
		if ( keys&J_UP )
		{
			dir = 1 ;
			break ;
		}
		if ( keys&J_DOWN )
		{
			dir = 2 ;
			break ;
		}
		if ( keys&J_RIGHT )
		{
			dir = 3 ;
			break ;
		}
		if ( keys&J_LEFT )
		{
			dir = 4 ;
			break ;
		}
		if ( keys&J_B )
		{
			break ;
		}
	}    

	if ( dir )
	{
		writegamemessage(dirarr5+(((UWORD)(dir-1))*12L)) ;

	}

	waitpadup() ;
	return dir ;


}


UBYTE choosechar20()
{
	UBYTE p, keys, currchar ;


	writegamemessage(whodat20) ;

	for ( p=0; p<4 ; p++ )
		charscreen20(&(players[p]),p) ;

	memset(screenbuf3,0x04,7L) ;
	memset(screenbuf3+7L,0x00,7L) ;
	VBK_REG=1 ;
	for ( p=0 ; p<4 ; p++ )
		set_bkg_tiles2(13,p+1,7,1,screenbuf3) ;
	VBK_REG=0 ;

	currchar=0 ;

	waitpadup() ;
	while ( 1 )
	{
		keys = joypad() ;
		if ( keys&J_UP )
		{
			VBK_REG=1 ;    
			for ( p=0 ; p<4 ; p++ )
				set_bkg_tiles2(13,p+1+(currchar<<2),7,1,screenbuf3+7L) ;
			if ( currchar==0 )
				currchar = numplayers-1 ;
			else
				currchar-- ;
			for ( p=0 ; p<4 ; p++ )
				set_bkg_tiles2(13,p+1+(currchar<<2),7,1,screenbuf3) ;
			VBK_REG=0 ;    
			waitpadup() ;

		}
		if ( keys&J_DOWN )
		{
			VBK_REG=1 ;    
			for ( p=0 ; p<4 ; p++ )
				set_bkg_tiles2(13,p+1+(currchar<<2),7,1,screenbuf3+7L) ;
			if ( currchar==numplayers-1 )
				currchar = 0 ;
			else
				currchar++ ;
			for ( p=0 ; p<4 ; p++ )
				set_bkg_tiles2(13,p+1+(currchar<<2),7,1,screenbuf3) ;
			VBK_REG=0 ;    
			waitpadup() ;


		}
		if ( keys&J_A )
		{
			waitpadup() ;      
			keys=1 ;
			break ;
		}
		if ( keys&J_B )
		{
			keys=0 ;
			waitpadup() ;      
			break ;
		}



	}      

	VBK_REG=1 ;
	for ( p=0 ; p<4 ; p++ )
		set_bkg_tiles2(13,p+1+(currchar<<2),7,1,screenbuf3+7L) ;
	VBK_REG=0 ;

	if ( keys==0 )
		currchar=99 ;

	return currchar ;
} 

UWORD getamt20(UBYTE digits, UWORD maxamt)
{
	UWORD amt ;
	UBYTE currentdigit,p ;
	UBYTE digitvalue ;
	UBYTE joykeys ;
	UWORD multiplier ;
	unsigned char thedigit ;

	amt =0L ;
	multiplier = 1L ;
	currentdigit=0 ;
	digitvalue = 0 ;
	formatnumber20(amt,4) ;
	set_bkg_tiles2(4,17,4,1,screenbuf3) ;
	memset(screenbuf3,0x04,4L) ;
	VBK_REG=1 ;
	set_bkg_tiles2(7,17,1,1,screenbuf3) ;
	VBK_REG=0 ;

	waitpadup() ;
	while ( 1 )
	{
		joykeys=joypad() ;
		if ( joykeys&J_UP )
		{
			if ( digitvalue<9 )
			{
				if ( amt + multiplier <= maxamt )
				{
					digitvalue++ ;
					amt += multiplier ;
					formatnumber20(amt,4) ;
					set_bkg_tiles2(4,17,4,1,screenbuf3) ;
				}


			}

			waitpadup() ;
		}
		if ( joykeys&J_DOWN )
		{
			if ( digitvalue )
			{
				digitvalue-- ;
				amt -= multiplier ;
				formatnumber20(amt,4) ;
				set_bkg_tiles2(4,17,4,1,screenbuf3) ;

			}

			waitpadup() ;
		}

		if ( joykeys&J_RIGHT )
		{
			screenbuf3[0] = 0x04 ;
			screenbuf3[1] = 0x00 ;
			VBK_REG=1 ;
			set_bkg_tiles2(7-currentdigit,17,1,1,screenbuf3+1) ;
			VBK_REG=0 ;
			if ( currentdigit==0 )
			{
				currentdigit = digits-1 ;
				multiplier=1L ;
				for ( p=0 ; p<currentdigit ; p++ )
					multiplier *= 10L ;
			}
			else
			{
				currentdigit-- ;
				multiplier /= 10L ;
			}
			VBK_REG=1 ;
			set_bkg_tiles2(7-currentdigit,17,1,1,screenbuf3) ;
			VBK_REG=0 ;

		}
		if ( joykeys&J_LEFT )
		{
			screenbuf3[0] = 0x04 ;
			screenbuf3[1] = 0x00 ;
			VBK_REG=1 ;
			set_bkg_tiles2(7-currentdigit,17,1,1,screenbuf3+1) ;
			VBK_REG=0 ;
			if ( currentdigit==digits-1 )
			{
				currentdigit = 0 ;
				multiplier = 1L ;
			}
			else
			{
				currentdigit++ ;
				multiplier *= 10L ;
			}
			VBK_REG=1 ;
			set_bkg_tiles2(7-currentdigit,17,1,1,screenbuf3) ;
			VBK_REG=0 ;


		}
		if ( (joykeys&J_LEFT)||(joykeys&J_RIGHT) )
		{
			get_bkg_tiles2(7-currentdigit,17,1,1,&thedigit) ;
			digitvalue = thedigit-0x78U ;
			waitpadup() ;  
		}
		if ( (joykeys&J_B)||(joykeys&J_A) )
		{
			screenbuf3[1] = 0x00 ;
			VBK_REG=1 ;
			set_bkg_tiles2(7-currentdigit,17,1,1,screenbuf3+1) ;
			VBK_REG=0 ;
			waitpadup() ;
			if ( joykeys&J_B )
				return 0L ;
			else
				break ;
		}

	}

	return amt ;

}

UBYTE getmenuselection20(UBYTE numlines,unsigned char *menudata, void (*descptr)(UBYTE,unsigned char*),
						 unsigned char *descptrdat)
{
	UBYTE p ;
	UBYTE currline ;
	UBYTE keys ;

	if ( LCDC_REG&0x10 )   //select $9C00-$9FFF
		vidbase = (unsigned char*)0x9C00 ;
	else
		vidbase	= (unsigned char*)0x9800 ;

	memset(screenbuf3,0x5d,7L) ;
	memset(screenbuf3+7L,0x00,7L) ;
	for ( p=0 ; p<16;p++ )
	{
		set_data2(vidbase+(32L*((UWORD)(p)+1L))+13L,screenbuf3,7L); 
		VBK_REG=1 ;       
		set_data2(vidbase+(32L*((UWORD)(p)+1L))+13L,screenbuf3+7L,7L); 
		VBK_REG=0 ;       
	}

	for ( p=0 ; p<numlines ; p++ )
		set_data2(vidbase+(32L*((UWORD)(p)+1L))+13L,menudata+((UWORD)p*7L),7L); 

	currline = 0 ;
	memset(screenbuf3,0x04,7L) ;
	VBK_REG=1 ;      
	set_data2(vidbase+(32L*1L)+13L,screenbuf3,7L); 
	VBK_REG=0 ;      

	if ( descptr )
		descptr(currline,descptrdat) ;

	waitpadup() ;

	currline = 0 ;
	while ( 1 )
	{
		keys = joypad() ;
		if ( keys&J_UP )
		{
			VBK_REG=1 ;    
			set_data2(vidbase+(32L*((UWORD)currline+1L))+13L,screenbuf3+7L,7L); 
			if ( currline==0 )
				currline = numlines-1 ;
			else
				currline-- ;
			set_data2(vidbase+(32L*((UWORD)currline+1L))+13L,screenbuf3,7L); 
			VBK_REG=0 ;    
			if ( descptr )
				descptr(currline,descptrdat) ;
			waitpadup() ;

		}
		if ( keys&J_DOWN )
		{
			VBK_REG=1 ;    
			set_data2(vidbase+(32L*((UWORD)currline+1L))+13L,screenbuf3+7L,7L); 
			if ( currline==numlines-1 )
				currline = 0 ;
			else
				currline++ ;
			set_data2(vidbase+(32L*((UWORD)currline+1L))+13L,screenbuf3,7L); 
			VBK_REG=0 ;    
			if ( descptr )
				descptr(currline,descptrdat) ;
			waitpadup() ;


		}
		if ( keys&J_A )
		{
			waitpadup() ;      
			keys=1 ;
			break ;
		}
		if ( keys&J_B )
		{
			keys = 0 ;
			waitpadup() ;      
			break ;
		}

	}


	VBK_REG=1 ;      
	set_data2(vidbase+(32L*((UWORD)currline+1L))+13L,screenbuf3+7L,7L); 
	VBK_REG=0 ;      

	if ( keys==0 )
		return 99 ;

	return currline ;

}





unsigned char grocerdat1[] = {
	0x5d,0x5d,'Y'+0x1D,'E'+0x1D,0x5D,'L'+0x1D,'O'+0x1D,'C'+0x1D,'A'+0x1D,'L'+0x1D,0x5d,0x5d
} ;

unsigned char grocerdat2[] = {
	0x5d,0x5d,0x5d,'G'+0x1D,'R'+0x1D,'O'+0x1D,'C'+0x1D,'E'+0x1D,'R'+0x1D,0x5d,0x5d,0x5d
} ;

unsigned char grocerdat3[] = {
	'R'+0x1D,'A'+0x1D,'T'+0x1D,'I'+0x1D,'O'+0x1D,'N'+0x1D,'S'+0x1D,0x5D,0x79,'G'+0x1D,'P'+0x1D,0x5d
};

unsigned char grocerdat4[] = {
	'E'+0x1D,'A'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,0x89,0x5D,'H'+0x1D,'O'+0x1D,'W'+0x1D,0x5d,0x5d
};

unsigned char grocerdat5[] = {
	'M'+0x1D,'A'+0x1D,'N'+0x1D,'Y'+0x1D,0x5D,'W'+0x1D,'O'+0x1D,'U'+0x1D,'L'+0x1D,'D'+0x1D,0x5d,0x5d
};

unsigned char grocerdat6[] = {
	'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'L'+0x1D,'I'+0x1D,'K'+0x1D,'E'+0x1D,0x83,0x5d,0x5d,0x5d
};

unsigned char grocerleave1[] = {
	'T'+0x1D,'H'+0x1D,'A'+0x1D,'N'+0x1D,'K'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x85,0x5d,0x5d
};

unsigned char grocerleave2[] = {
	'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,'A'+0x1D,'G'+0x1D,'A'+0x1D,'I'+0x1D,'N'+0x1D,0x82,0x5d
};



void dorations(UBYTE tnum, UBYTE pnum)
{

	UWORD amt,maxamt ;
	UBYTE nomore,p ;



	changemusic = extragame ? 17 : 7 ;

	nomore = 0 ;

	memset(screenbuf3,0x5D,12L) ;
	writegamemessage(screenbuf3) ;
	writegamemessage(screenbuf3) ;
	writegamemessage(screenbuf3) ;
	writegamemessage(grocerdat1) ;
	writegamemessage(grocerdat2) ;
	waitpadup() ;
	waitpad(0xFF) ;
//	while (!nomore)
//	{
	for ( p=0; p<4 ; p++ )
		charscreen20(&(players[p]),p) ;
	writegamemessage(grocerdat3) ;
	writegamemessage(grocerdat4) ;
	writegamemessage(grocerdat5) ;
	writegamemessage(grocerdat6) ;

	memset(screenbuf3,0x5D,12L) ;
	writegamemessage(screenbuf3) ;
	if ( players[pnum].gold < 9999-players[pnum].food )
		maxamt = players[pnum].gold ;
	else
		maxamt = 9999-players[pnum].food ;

	amt = getamt20(4,maxamt) ;

	players[pnum].gold -= amt ;
	players[pnum].food += amt ;
	memset(screenbuf3,0x5D,12L) ;
	writegamemessage(screenbuf3) ;
	writegamemessage(screenbuf3) ;
	writegamemessage(screenbuf3) ;
	writegamemessage(grocerleave1) ;
	writegamemessage(grocerleave2) ;

//	}

}


UWORD weaponcost[] = {
	5L,
	30L,
	60L,
	125L,
	350L,
	200L,
	250L,
	400L,
	1050L,
	800L,
	1200L,
	2700L,
	6550L,
	4550L,
} ;


UWORD armorcost[] = {
	75L,
	195L,
	575L,
	2500L,
	6130L,
	8250L
};


unsigned char washopdat1[] = {
	'W'+0x1D,'E'+0x1D,'L'+0x1D,'C'+0x1D,'O'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,'T'+0x1D,'O'+0x1D,0x5D,0x5D
};

unsigned char washopdat2w[] = {
	'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'W'+0x1D,'E'+0x1D,'A'+0x1D,'P'+0x1D,'O'+0x1D,'N'+0x1D,'S'+0x1D,0x5D
};

unsigned char washopdat3[] = {
	'S'+0x1D,'H'+0x1D,'O'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
};

unsigned char washopdat2a[] = {
	'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'M'+0x1D,'O'+0x1D,'U'+0x1D,'R'+0x1D,0x5D,0x5D
};

unsigned char buysell20[] = {
	'B'+0x1D,'U'+0x1D,'Y'+0x1D,0x5D,0x5D,0x5D,0x5D,
	'S'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,0x5D,0x5D,
};

unsigned char wanotenough1[] = {
	'I'+0x1D,0x86,'M'+0x1D,0x5D,'V'+0x1D,'E'+0x1D,'R'+0x1D,'Y'+0x1D,0x5D,0x5D,0x5D,0x5D, 
};

unsigned char wanotenough2[] = {
	'S'+0x1D,'O'+0x1D,'R'+0x1D,'R'+0x1D,'Y'+0x1D,0x85,0x5D,'B'+0x1D,'U'+0x1D,'T'+0x1D,0x5D,0x5D, 
};

unsigned char wanotenough3[] = {
	'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'H'+0x1D,'A'+0x1D,'V'+0x1D,'E'+0x1D,'N'+0x1D,0x86,'T'+0x1D,0x5D
};

unsigned char wanotenough4[] = {
	'T'+0x1D,'H'+0x1D,'E'+0x1D,0x5D,'G'+0x1D,'O'+0x1D,'L'+0x1D,'D'+0x1D,0x82,0x5D,0x5D,0x5D, 
};


//'O'+0x1D,'H'+0x1D,0x5D,'W'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D,0x85,0x5D,0x5D,0x5D,0x5D, 
//'M'+0x1D,'A'+0x1D,'Y'+0x1D,'B'+0x1D,'E'+0x1D,0x5D,'N'+0x1D,'E'+0x1D,'X'+0x1D,'T'+0x1D,0x5D,0x5D, 
//'T'+0x1D,'I'+0x1D,'M'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 

unsigned char wahereyougo1[] = {
	'H'+0x1D,'E'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'A'+0x1D,'R'+0x1D,'E'+0x1D
};

unsigned char wahereyougo2[] = {
	'M'+0x1D,'A'+0x1D,'Y'+0x1D,0x5D,'I'+0x1D,'T'+0x1D,0x5D,'S'+0x1D,'E'+0x1D,'R'+0x1D,'V'+0x1D,'E'+0x1D
};

unsigned char wahereyougo3[] = {
	'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'W'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D,0x84,0x5D,0x5D,0x5D
};

unsigned char wadonthave1[] ={
	'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x5D,'D'+0x1D,'O'+0x1D,'N'+0x1D,0x86,'T'+0x1D,0x5D,0x5D,0x5D
};

unsigned char wadonthave2[] ={
	'O'+0x1D,'W'+0x1D,'N'+0x1D,0x5D,'O'+0x1D,'N'+0x1D,'E'+0x1D,0x5D,'O'+0x1D,'F'+0x1D,0x5D,0x5D, 
};

unsigned char wadonthave3[] ={
	'T'+0x1D,'H'+0x1D,'O'+0x1D,'S'+0x1D,'E'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D, 
};

unsigned char wathank[] = {
	'T'+0x1D,'H'+0x1D,'A'+0x1D,'N'+0x1D,'K'+0x1D,0x5D,'Y'+0x1D,'O'+0x1D,'U'+0x1D,0x82,0x5D,0x5D
};

unsigned char toomuchgold1[] = {
	'T'+0x1D,'O'+0x1D,'O'+0x1D,0x5D,'M'+0x1D,'U'+0x1D,'C'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D,0x5D
};

unsigned char toomuchgold2[] = {
	'G'+0x1D,'O'+0x1D,'L'+0x1D,'D'+0x1D,0x82,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D,0x5D
};

unsigned char noroomdat[] = {
	'N'+0x1D,'O'+0x1D,0x5D,'M'+0x1D,'O'+0x1D,'R'+0x1D,'E'+0x1D,0x5D,'R'+0x1D,'O'+0x1D,'O'+0x1D,'M'+0x1D, 
};

unsigned char shopmore[] = {
	'S'+0x1D,'H'+0x1D,'O'+0x1D,'P'+0x1D,0x5D,'M'+0x1D,'O'+0x1D,'R'+0x1D,'E'+0x1D,0x83,0x5D,0x5D, 
};

unsigned char weaponlist20[] = {
	'D'+0x1D,'A'+0x1D,'G'+0x1D,'G'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,
	'M'+0x1D,'A'+0x1D,'C'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,
	'S'+0x1D,'L'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,0x5D,0x5D,
	'A'+0x1D,'X'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,
	'B'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,0x5D,0x5D,0x5D,
	'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,0x5D,0x5D,
	'2'+0x48,'H'+0x1D,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,
	0x91,'2'+0x48,0x5D,'A'+0x1D,'X'+0x1D,'E'+0x1D,0x5D,
	0x91,'2'+0x48,0x5D,'B'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,
	0x91,'2'+0x48,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,
	'G'+0x1D,'L'+0x1D,'O'+0x1D,'V'+0x1D,'E'+0x1D,'S'+0x1D,0x5D,
	0x91,'4'+0x48,0x5D,'A'+0x1D,'X'+0x1D,'E'+0x1D,0x5D,
	0x91,'4'+0x48,0x5D,'B'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,
	0x91,'4'+0x48,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,
};

unsigned char weaponlistdesc20[] = {
	0x5D,0x5D,0x5D,'D'+0x1D,'A'+0x1D,'G'+0x1D,'G'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D, '5'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D,'M'+0x1D,'A'+0x1D,'C'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D, '3'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,'S'+0x1D,'L'+0x1D,'I'+0x1D,'N'+0x1D,'G'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D, '6'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D,'A'+0x1D,'X'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '1'+0x48,'2'+0x48,'5'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D,'B'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '3'+0x48,'5'+0x48,'0'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '2'+0x48,'0'+0x48,'0'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,'2'+0x48,'H'+0x1D,0x5d,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '2'+0x48,'5'+0x48,'0'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x91,'2'+0x48,0x5D,'A'+0x1D,'X'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '4'+0x48,'0'+0x48,'0'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x91,'2'+0x48,0x5D,'B'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '1'+0x48,'0'+0x48,'5'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x91,'2'+0x48,0x5d,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,0x5D,0x5D,
	0x5D,0x5D,0x5D, 0x80,'0'+0x48,'0'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,'G'+0x1D,'L'+0x1D,'O'+0x1D,'V'+0x1D,'E'+0x1D,'S'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '1'+0x48,'2'+0x48,'0'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x91,'4'+0x48,0x5D,'A'+0x1D,'X'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '2'+0x48,'7'+0x48,'0'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x91,'4'+0x48,0x5D,'B'+0x1D,'O'+0x1D,'W'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '6'+0x48,'5'+0x48,'5'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x91,'4'+0x48,0x5d,'S'+0x1D,'W'+0x1D,'O'+0x1D,'R'+0x1D,'D'+0x1D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '4'+0x48,'5'+0x48,'5'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
};

unsigned char armorlist20[] = {
	'C'+0x1D,'L'+0x1D,'O'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,
	'L'+0x1D,'E'+0x1D,'A'+0x1D,'T'+0x1D,'H'+0x1D,'E'+0x1D,'R'+0x1D,
	'C'+0x1D,'H'+0x1D,'A'+0x1D,'I'+0x1D,'N'+0x1D,0x5D,0x5D,
	'P'+0x1D,'L'+0x1D,'A'+0x1D,'T'+0x1D,'E'+0x1D,0x5D,0x5D,
	0x91,'2'+0x48,'C'+0x1D,'H'+0x1D,'A'+0x1D,'I'+0x1D,'N'+0x1D,
	0x91,'2'+0x48,'P'+0x1D,'L'+0x1D,'A'+0x1D,'T'+0x1D,'E'+0x1D,

};

unsigned char armorlistdesc20[] = {
	0x5D,0x5D,0x5D, 'C'+0x1D,'L'+0x1D,'O'+0x1D,'T'+0x1D,'H'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D,0x5D, '7'+0x48,'5'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D, 'L'+0x1D,'E'+0x1D,'A'+0x1D,'T'+0x1D,'H'+0x1D,'E'+0x1D,'R'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '1'+0x48,0x81,'5'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, 'C'+0x1D,'H'+0x1D,'A'+0x1D,'I'+0x1D,'N'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '5'+0x48,'7'+0x48,'5'+0x48,0x5D,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, 'P'+0x1D,'L'+0x1D,'A'+0x1D,'T'+0x1D,'E'+0x1D,0x5D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '2'+0x48,'5'+0x48,'0'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x91,'2'+0x48,0x5d,'C'+0x1D,'H'+0x1D,'A'+0x1D,'I'+0x1D,'N'+0x1D,0x5D,0x5D,
	0x5D,0x5D,0x5D, '6'+0x48,'1'+0x48,'3'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
	0x5D,0x5D,0x91,'2'+0x48,0x5d,'P'+0x1D,'L'+0x1D,'A'+0x1D,'T'+0x1D,'E'+0x1D,0x5D,0x5D,
	0x5D,0x5D,0x5D, 0x80,'2'+0x48,'5'+0x48,'0'+0x48,'G'+0x1D,'P'+0x1D,0x5D,0x5D,0x5D,
};

unsigned char buywhatdat[] = {
	'B'+0x1D,'U'+0x1D,'Y'+0x1D,0x5D,'W'+0x1D,'H'+0x1D,'A'+0x1D,'T'+0x1D,0x83,0x5D,0x5D,0x5D, 
};

unsigned char sellwhatdat[] = {
	'S'+0x1D,'E'+0x1D,'L'+0x1D,'L'+0x1D,0x5D,'W'+0x1D,'H'+0x1D,'A'+0x1D,'T'+0x1D,0x83,0x5D,0x5D, 
};

void shopwadesc(UBYTE currline, unsigned char *descptr)
{
	unsigned char screenbuf4[12] ;

	memset(screenbuf4,0x5D,12L) ;
	set_bkg_tiles2( 0, 13, 12, 1, (unsigned char*)screenbuf4);
	set_bkg_tiles2( 0, 16, 12, 1, (unsigned char*)screenbuf4);
	//set_bkg_tiles2( 0, 17, 12, 1, (unsigned char*)screenbuf4);

	set_bkg_tiles2(0,14,12,1,descptr+((UWORD)currline*24L)) ;
	set_bkg_tiles2(0,15,12,1,descptr+((UWORD)currline*24L)+12L) ;


}

void doweaponsarmors(UBYTE tnum, UBYTE pnum, UBYTE wa)
{


	UWORD price ;
	UBYTE nomore,p ;
	UBYTE listnum ;
	unsigned char *thelist ;
	unsigned char *desclist ;
	unsigned char *shopdesc ;
	UBYTE buysell ;
	UBYTE whichitem ;
	UBYTE *numptr ;

	if ( extragame != 0 )
	{
		buysell = 12 ;
	}
	else
	{
		buysell = 1 ;
	}


	changemusic = extragame ? 17 : 7 ;
	if ( wa )
	{
		thelist = weaponlist20 ;
		desclist = weaponlistdesc20 ;
		shopdesc = washopdat2w ;
		if ( peermap==buysell )
			listnum = 14 ;
		else
			listnum	= 7 ;
	}
	else
	{
		thelist = armorlist20 ;
		desclist = armorlistdesc20 ;
		shopdesc = washopdat2a ;
		if ( peermap==buysell )
			listnum = 6 ;
		else
			listnum	= 4 ;
	}




	nomore = 0 ;

	while ( !nomore )
	{
		memset(screenbuf3,0x5D,12L) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(washopdat1) ;
		writegamemessage(shopdesc) ;
		writegamemessage(washopdat3) ;
		buysell = getmenuselection20(2,buysell20,NULL,NULL) ;
		if ( buysell==99 )
		{
			memset(screenbuf3,0x5D,12L) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(grocerleave1) ;
			writegamemessage(grocerleave2) ;
			return ;

		}

		if ( buysell==0 )
			writegamemessage(buywhatdat) ;
		else
			writegamemessage(sellwhatdat) ;


		whichitem = getmenuselection20(listnum,thelist,shopwadesc,desclist) ;
		if ( whichitem==99 )
			continue ;

		if ( wa ) //weapon
		{
			price = weaponcost[whichitem] ;
			numptr=&(players[pnum].weapons[whichitem+1]) ;

		}
		else //armor
		{
			price = armorcost[whichitem] ;
			numptr=&(players[pnum].armors[whichitem+1]) ;

		}
		if ( buysell ) //sell
		{
			if ( *numptr )
			{
				if ( players[pnum].gold+price>9999L )
				{
					writegamemessage(toomuchgold1) ;
					writegamemessage(toomuchgold2) ;
				}
				else
				{
					players[pnum].gold += price ;
					(*numptr)-- ;
					writegamemessage(wathank) ;
				}


			}
			else
			{
				writegamemessage(wadonthave1) ;
				writegamemessage(wadonthave2) ;
				writegamemessage(wadonthave3) ;
			}


		}
		else //buy
		{
			if ( *numptr<9 )
			{
				if ( players[pnum].gold<price )
				{
					writegamemessage(wanotenough1) ;
					writegamemessage(wanotenough2) ;
					writegamemessage(wanotenough3) ;
					writegamemessage(wanotenough4) ;
				}
				else
				{
					players[pnum].gold -= price ;
					(*numptr)++ ;
					writegamemessage(wathank) ;
				}


			}
			else
			{
				writegamemessage(noroomdat) ;
			}


		}
		waitpadup() ;
		waitpad(0xFF) ;


	}


}


UBYTE dotransact(UBYTE tnum)
{
	UBYTE pnum, dir ;
	UBYTE tiley,monx,tilex,mony ;

	pnum = choosechar20() ;
	if ( pnum==99 )
		return 0 ;

	if ( players[pnum].status>1 )
	{
		writegamemessage(deaddat20) ;
		return 1 ;
	}

	dir = getdir20() ;
	if ( dir==0 )
		return 0 ;

	if ( inside==0 )
	{
		memset(screenbuf3,0x5d,12L) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(noresponsedat20) ;
		return 1 ;
	}
	tilex = 6 ;
	tiley = 6 ;
	monx = playerx ;
	mony = playery ;

	if ( dir==1 )
	{
		tiley = 5 ;
		if ( mony )
			mony-- ;
	}
	if ( dir==2 )
	{
		tiley = 7 ;
		if ( mony<63 )
			mony++ ;
	}
	if ( dir==3 )
	{
		tilex = 7 ;
		if ( monx<63 )
			monx++ ;
	}
	if ( dir==4 )
	{
		tilex = 5 ;
		if ( monx )
			monx-- ;
	}

	get_bkg_tiles2(tilex,tiley,1,1,screenbuf3) ;
	if ( (screenbuf3[0]>=0x3C)&&(screenbuf3[0]<=0x56)&&((dir==1)||(dir==2)) )
	{
		if ( dir==1 )
		{
			tiley = 4 ;
			if ( mony )
				mony-- ;
		}
		if ( dir==2 )
		{
			tiley = 8 ;
			if ( mony<63 )
				mony++ ;
		}

		get_bkg_tiles2(tilex,tiley,1,1,screenbuf3) ;
		if ( screenbuf3[0]!=0x16 )
		{
			memset(screenbuf3,0x5d,12L) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(screenbuf3) ;
			writegamemessage(noresponsedat20) ;
			return 1 ;
		}
	}


	dir = 0 ;
	while ( (dir<nummonsters) && ((monsters[dir].x != monx) || (monsters[dir].y!=mony)) )
		dir++ ;


	if ( dir==nummonsters )
	{
		memset(screenbuf3,0x5d,12L) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(screenbuf3) ;
		writegamemessage(noresponsedat20) ;
	}
	else
	{
		if ( (((monsters[dir].whichtalk)&0x0F) == 0x00) ||(((monsters[dir].whichtalk)&0x0F) > 0x08) )
		{
			if ( monsters[dir].tile==0x16 )	//merchant
			{
				switch ( monsters[dir].whichtalk&0x0F )
				{
					case 0x09 : return(0x10|pnum) ;
					case 0x0A : doweaponsarmors(tnum,pnum,1) ; break ;
					case 0x0B : doweaponsarmors(tnum,pnum,0) ; break ;
					case 0x0C : return(0x20|pnum) ;
					case 0x0D : return(0x30|pnum) ;
					case 0x0E : dorations(tnum,pnum) ; break ;
					case 0x0F : return(0x60|pnum) ; break ;
					case 0x00 : return(0x40|pnum) ;
					default : break ;

				}
				changemusic = calcmusic(peermap) ;


			}
			else  //default response
			{
				memset(screenbuf3,0x5d,12L) ;
				writegamemessage(screenbuf3) ;
				writegamemessage(screenbuf3) ;
				writegamemessage(screenbuf3) ;
				writegamemessage(screenbuf3) ;
				writegamemessage(gooddaydat20) ;

			}

		}
		else
		{
			if ( monsters[dir].tile==0x19 )	//lord british
			{
				return(0x50|pnum) ;


			}
			else  //numbered response
			{
				memset(screenbuf3,0x5d,12L) ;
				writegamemessage(screenbuf3) ;
				writegamemessage(screenbuf3) ;
				writegamemessage(towntalk20+((UWORD)tnum*0x1C0L)+(36L*((UWORD)((monsters[dir].whichtalk)&0x0F)-1))) ;
				writegamemessage(towntalk20+((UWORD)tnum*0x1C0L)+(36L*((UWORD)((monsters[dir].whichtalk)&0x0F)-1))+12L) ;
				writegamemessage(towntalk20+((UWORD)tnum*0x1C0L)+(36L*((UWORD)((monsters[dir].whichtalk)&0x0F)-1))+24L) ;
				if ( (monsters[dir].whichtalk)&0xF0 )
				{
					party_specials |= 1L<<(((monsters[dir].whichtalk)>>4)-1) ;
					if ( extragame != 0 )
						specialsfx() ;
				}

			}


		}


	}



	return 1 ;
}
